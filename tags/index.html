---
layout: default
title: Tags
permalink: /tags/
---

<h2>Browse by tag</h2>

<div class="tag-cloud">
  {% assign sorted = site.tags | sort %}
  {% for pair in sorted %}
    {% assign name  = pair[0] %}
    {% assign posts = pair[1] %}
<a class="tag" href="{{ '/' | relative_url }}?t={{ name | slugify }}">{{ name }} <span class="count">{{ posts.size }}</span></a>
  {% endfor %}
</div>

<hr/>

{% assign sorted = site.tags | sort %}
{% for pair in sorted %}
  {% assign name  = pair[0] %}
  {% assign posts = pair[1] %}
  <section class="tag-section" id="{{ name | slugify }}">
    <h3>#{{ name }} <span class="count">({{ posts.size }})</span></h3>
    {% for post in posts %}
      <article class="post-card">
        <h4><a href="{{ post.url | relative_url }}">{{ post.title }}</a></h4>
        <div class="meta">{{ post.date | date: "%b %d, %Y" }} Â· {{ post.categories | array_to_sentence_string }}</div>
        <p>{{ post.excerpt | default: post.content | strip_html | truncate: 220 }}</p>
      </article>
    {% endfor %}
  </section>
{% endfor %}

<script>
(function(){
  function show(id){
    var sections = document.querySelectorAll('.tag-section');
    sections.forEach(function(s){ s.style.display = id && s.id !== id ? 'none' : ''; });
    if(id){
      var el = document.getElementById(id);
      if(el) el.scrollIntoView({behavior:'smooth', block:'start'});
    }
  }
  var params = new URLSearchParams(location.search);
  var t = params.get('t') || (location.hash ? location.hash.slice(1) : '');
  if(t) show(decodeURIComponent(t));
  document.querySelectorAll('.tag-cloud .tag').forEach(function(a){
    a.addEventListener('click', function(ev){
      // let the URL update, then filter after navigation
      setTimeout(function(){
        var p = new URLSearchParams(location.search);
        var tid = p.get('t') || (location.hash ? location.hash.slice(1) : '');
        if(tid) show(tid);
      }, 0);
    });
  });
})();
</script>
